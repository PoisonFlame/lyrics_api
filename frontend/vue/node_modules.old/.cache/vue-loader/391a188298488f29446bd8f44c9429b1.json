{"remainingRequest":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-overflow-menu/cv-overflow-menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-overflow-menu/cv-overflow-menu.vue","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBPdmVyZmxvd01lbnVWZXJ0aWNhbDE2IGZyb20gJ0BjYXJib24vaWNvbnMtdnVlL2VzL292ZXJmbG93LW1lbnUtLXZlcnRpY2FsLzE2JzsKaW1wb3J0IHVpZE1peGluIGZyb20gJy4uLy4uL21peGlucy91aWQtbWl4aW4nOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDdk92ZXJmbG93TWVudScsCiAgY29tcG9uZW50czogeyBPdmVyZmxvd01lbnVWZXJ0aWNhbDE2IH0sCiAgbWl4aW5zOiBbdWlkTWl4aW5dLAogIHByb3BzOiB7CiAgICBsYWJlbDogU3RyaW5nLAogICAgZmxpcE1lbnU6IEJvb2xlYW4sCiAgICB1cDogQm9vbGVhbiwKICAgIG9mZnNldDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZS5oYXNPd25Qcm9wZXJ0eSgnbGVmdCcpICYmIHZhbHVlLmhhc093blByb3BlcnR5KCd0b3AnKTsKICAgICAgfSwKICAgIH0sCiAgICB0aXBQb3NpdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdyaWdodCcsCiAgICAgIHZhbGlkYXRvcjogdmFsID0+IFsndG9wJywgJ2xlZnQnLCAnYm90dG9tJywgJ3JpZ2h0Jy5pbmNsdWRlcyh2YWwpXSwKICAgIH0sCiAgICB0aXBBbGlnbm1lbnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnY2VudGVyJywgdmFsaWRhdG9yOiB2YWwgPT4gWydzdGFydCcsICdjZW50ZXInLCAnZW5kJ10uaW5jbHVkZXModmFsKSB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGZsaXBNZW51KHZhbCkgewogICAgICB0aGlzLmZsaXBNZW51ID0gdmFsOwogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVuOiBmYWxzZSwKICAgICAgbGVmdDogLTk5OTksIC8vIG9mZnNjcmVlbiwKICAgICAgdG9wOiAwLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBvZmZzZXRMZWZ0KCkgewogICAgICByZXR1cm4gdGhpcy5vZmZzZXQgPyB0aGlzLm9mZnNldC5sZWZ0IDogMDsKICAgIH0sCiAgICBvZmZzZXRUb3AoKSB7CiAgICAgIHJldHVybiB0aGlzLm9mZnNldCA/IHRoaXMub2Zmc2V0LnRvcCA6IDA7CiAgICB9LAogICAgdGlwQ2xhc3NlcygpIHsKICAgICAgY29uc3QgdGlwUG9zaXRpb24gPSB0aGlzLnRpcFBvc2l0aW9uIHx8ICdyaWdodCc7CiAgICAgIGNvbnN0IHRpcEFsaWdubWVudCA9IHRoaXMudGlwQWxpZ25tZW50IHx8ICdjZW50ZXInOwogICAgICBpZiAodGhpcy5sYWJlbCkgewogICAgICAgIHJldHVybiBgYngtLXRvb2x0aXBfX3RyaWdnZXIgYngtLXRvb2x0aXAtLWExMXkgYngtLXRvb2x0aXAtLSR7dGlwUG9zaXRpb259IGJ4LS10b29sdGlwLS1hbGlnbi0ke3RpcEFsaWdubWVudH1gOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRvbignY3Y6Y2xvc2UnLCB0aGlzLmRvQ2xvc2UpOwogICAgdGhpcy4kb24oJ2N2OmNsaWNrJywgdGhpcy5tZW51SXRlbWNsaWNrKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoZWNrRm9jdXNPdXQoZXYpIHsKICAgICAgaWYgKHRoaXMub3BlbikgewogICAgICAgIGlmICgKICAgICAgICAgIGV2LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwgfHwKICAgICAgICAgICEodGhpcy4kcmVmcy50cmlnZ2VyID09PSBldi5yZWxhdGVkVGFyZ2V0IHx8IHRoaXMuJHJlZnMucG9wdXAuY29udGFpbnMoZXYucmVsYXRlZFRhcmdldCkpCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgIHRoaXMucG9zaXRpb25MaXN0ZW4oZmFsc2UpOwoKICAgICAgICAgIC8vIERPIE5PVCBGT0NVUyBpZiByZWxhdGVkVGFyZ2V0IGlzIG5vdCBudWxsLCBhcyBmb2N1cyBpcyBnb2luZyBzb21ld2hlcmUKICAgICAgICAgIGlmICghZXYucmVsYXRlZFRhcmdldCkgewogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5kb0ZvY3VzKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG1lbnVJdGVtY2xpY2soKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnBvc2l0aW9uTGlzdGVuKGZhbHNlKTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZG9Gb2N1cygpOwogICAgICB9KTsKICAgIH0sCiAgICBkb0Nsb3NlKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5wb3NpdGlvbkxpc3RlbihmYWxzZSk7CiAgICB9LAogICAgcG9zaXRpb25MaXN0ZW4ob24pIHsKICAgICAgaWYgKG9uKSB7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucG9zaXRpb25NZW51KTsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5wb3NpdGlvbk1lbnUpOwogICAgICB9IGVsc2UgewogICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnBvc2l0aW9uTWVudSk7CiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucG9zaXRpb25NZW51KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHBvc2l0aW9uTWVudSgpIHsKICAgICAgaWYgKHRoaXMub3BlbikgewogICAgICAgIGNvbnN0IG1lbnVQb3NpdGlvbiA9IHRoaXMuJGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHJldHVybiB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBjb25zdCBwaXhlbHNTY3JvbGxlZFggPSB3aW5kb3cuc2Nyb2xsWCB8fCB3aW5kb3cucGFnZVhPZmZzZXQ7CiAgICAgICAgICBjb25zdCBwaXhlbHNTY3JvbGxlZFkgPSB3aW5kb3cuc2Nyb2xsWSB8fCB3aW5kb3cucGFnZVlPZmZzZXQ7CiAgICAgICAgICBpZiAodGhpcy5mbGlwTWVudSkgewogICAgICAgICAgICB0aGlzLmxlZnQgPQogICAgICAgICAgICAgIG1lbnVQb3NpdGlvbi5sZWZ0ICsKICAgICAgICAgICAgICB0aGlzLm9mZnNldExlZnQgLQogICAgICAgICAgICAgIHRoaXMuJHJlZnMucG9wdXAub2Zmc2V0V2lkdGggKwogICAgICAgICAgICAgIHRoaXMuJGVsLm9mZnNldFdpZHRoICsKICAgICAgICAgICAgICBwaXhlbHNTY3JvbGxlZFg7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmxlZnQgPSBtZW51UG9zaXRpb24ubGVmdCArIHRoaXMub2Zmc2V0TGVmdCArIHBpeGVsc1Njcm9sbGVkWDsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLnVwKSB7CiAgICAgICAgICAgIHRoaXMudG9wID0gbWVudVBvc2l0aW9uLnRvcCArIHRoaXMub2Zmc2V0VG9wIC0gdGhpcy4kcmVmcy5wb3B1cC5vZmZzZXRIZWlnaHQgKyBwaXhlbHNTY3JvbGxlZFk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnRvcCA9IG1lbnVQb3NpdGlvbi5ib3R0b20gKyB0aGlzLm9mZnNldFRvcCArIHBpeGVsc1Njcm9sbGVkWTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGRvRm9jdXMoKSB7CiAgICAgIGxldCBmb2N1c09uOwogICAgICBpZiAodGhpcy5vcGVuKSB7CiAgICAgICAgLy8gc2V0IGZvY3VzIHNvbWV3aGVyZSBzZW5zaWJsZSwgZmlyc3QgZm9jdXNhYmxlIGl0ZW0gb3IgbGVhdmUgb24gb3ZlciBmbG93CiAgICAgICAgbGV0IGZvY3VzT25MaXN0ID0gdGhpcy4kcmVmcy5wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKAogICAgICAgICAgJy5ieC0tb3ZlcmZsb3ctbWVudS1vcHRpb25zX19idG4sIGJ1dHRvbiwgbGluaywgaW5wdXQsIHRleHRhcmVhLCBbY29udGVudEVkaXRhYmxlPSJ0cnVlIl0sIFt0YWJpbmRleF0nCiAgICAgICAgKTsKICAgICAgICBmb3IgKGxldCB0cnlPbiBvZiBmb2N1c09uTGlzdCkgewogICAgICAgICAgaWYgKAogICAgICAgICAgICAvLyBkb24ndCBmb2N1cyBvbiBiZWZvcmUgYWZ0ZXIgb3Igc29tZXRoaW5nIHRoYXQgY2FuJ3QgYmUgdGFiYmVkIHRvCiAgICAgICAgICAgICEoCiAgICAgICAgICAgICAgdHJ5T24uY2xhc3NMaXN0LmNvbnRhaW5zKCdjdi1vdmVyZmxvdy1tZW51X19iZWZvcmUtY29udGVudCcpIHx8CiAgICAgICAgICAgICAgdHJ5T24uY2xhc3NMaXN0LmNvbnRhaW5zKCdjdi1vdmVyZmxvdy1tZW51X19hZnRlci1jb250ZW50JykgfHwKICAgICAgICAgICAgICB0cnlPbi50YWJpbmRleCA8IDAKICAgICAgICAgICAgKQogICAgICAgICAgKSB7CiAgICAgICAgICAgIGZvY3VzT24gPSB0cnlPbjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZm9jdXNPbikgewogICAgICAgICAgZm9jdXNPbiA9IHRoaXMuJGVsOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb2N1c09uID0gdGhpcy4kZWw7CiAgICAgIH0KICAgICAgZm9jdXNPbi5mb2N1cygpOwogICAgfSwKICAgIGFzeW5jIGRvVG9nZ2xlKCkgewogICAgICB0aGlzLm9wZW4gPSAhdGhpcy5vcGVuOwoKICAgICAgLy8gYXdhaXQgcG9zaXRpb25NZW51IG90aGVyd2lzZSBpdCBjYW4gcmFjZSBkb0ZvY3VzLgogICAgICAvLyBPbiBpbml0aWFsIG9wZW4gdGhlIG1lbnUgaXMgcG9zaXRpb25lZCAwLDAgY2F1c2luZyBhIGp1bXAKICAgICAgYXdhaXQgdGhpcy5wb3NpdGlvbk1lbnUoKTsKICAgICAgdGhpcy5wb3NpdGlvbkxpc3Rlbih0aGlzLm9wZW4pOwogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy5kb0ZvY3VzKCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9uT3ZlcmZsb3dNZW51VGFiKGV2KSB7CiAgICAgIGlmICghZXYuc2hpZnRLZXkpIHsKICAgICAgICAvLyBtb3ZlIGZvY3VzIGJlZm9yZSBjb250ZW50IGJlZm9yZSB0YWIgcHJlc3MKICAgICAgICB0aGlzLiRyZWZzLmJlZm9yZUNvbnRlbnQuZm9jdXMoKTsKICAgICAgfQogICAgfSwKICAgIGZvY3VzQmVmb3JlQ29udGVudChldikgewogICAgICBpZiAodGhpcy4kcmVmcy5wb3B1cC5jb250YWlucyhldi5yZWxhdGVkVGFyZ2V0KSkgewogICAgICAgIHRoaXMuJHJlZnMudHJpZ2dlci5mb2N1cygpOwogICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZm9jdXNBZnRlckNvbnRlbnQoKSB7CiAgICAgIHRoaXMuJHJlZnMudHJpZ2dlci5mb2N1cygpOwogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgIH0sCiAgICBwcmV2ZW50Rm9jdXNPdXQoKSB7CiAgICAgIC8vIFRoaXMgaXMgaGVyZSB0byBwcmV2ZW50IGZvY3VzIGJlaW5nIGxvc3QgaWYgdGhlIHVzZXIgY2xpY2tzIG9uIHRoZSBjb250ZW50cyBvZiB0aGUgaW50ZXJhY3RpdmUgdG9vbCB0aXAKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgLy8gQ2hlY2sgZm9yIGxvcyBvZiBmb2N1cwogICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLmNoZWNrRm9jdXNPdXQpOwoKICAgIC8vIG1vdmUgcG9wdXAgb3V0IHRvIGJvZHkgdG8gZW5zdXJlIGl0IGFwcGVhcnMgYWJvdmUgb3RoZXIgZWxlbWVudHMKICAgIHRoaXMucG9wdXBFbCA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy4kcmVmcy5wb3B1cCk7CiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5wb3NpdGlvbkxpc3RlbihmYWxzZSk7CiAgICBpZiAodGhpcy5wb3B1cEVsKSB7CiAgICAgIC8vIG1vdmUgYmFjayB0byB3aGVyZSBpdCBjYW1lIGZyb20KICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQodGhpcy5wb3B1cEVsKTsKICAgIH0KICB9LAp9Owo="},{"version":3,"sources":["cv-overflow-menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cv-overflow-menu.vue","sourceRoot":"node_modules/@carbon/vue/src/components/cv-overflow-menu","sourcesContent":["<template>\n  <div data-overflow-menu class=\"cv-overflow-menu bx--overflow-menu\">\n    <button\n      class=\"bx--overflow-menu__trigger bx--tooltip__trigger bx--tooltip--a11y\"\n      :class=\"[tipClasses, { 'bx--overflow-menu--open': open }]\"\n      aria-haspopup\n      type=\"button\"\n      :aria-expanded=\"open\"\n      :aria-controls=\"`${uid}-menu`\"\n      :id=\"`${uid}-trigger`\"\n      ref=\"trigger\"\n      @click=\"doToggle\"\n      @keydown.space.prevent\n      @keyup.space.prevent=\"doToggle\"\n      @keydown.enter.prevent=\"doToggle\"\n      @keydown.tab=\"onOverflowMenuTab\"\n    >\n      <span class=\"bx--assistive-text\">{{ label }}</span>\n\n      <slot name=\"trigger\">\n        <OverflowMenuVertical16 class=\"bx--overflow-menu__icon\" />\n      </slot>\n    </button>\n    <div\n      class=\"bx--overflow-menu-options\"\n      :class=\"{\n        'bx--overflow-menu--flip': flipMenu,\n        'bx--overflow-menu-options--open': open,\n      }\"\n      tabindex=\"-1\"\n      ref=\"popup\"\n      :aria-labelledby=\"`${uid}-trigger`\"\n      :id=\"`${uid}-menu`\"\n      :style=\"{ left: left + 'px', top: top + 'px' }\"\n      @focusout=\"checkFocusOut\"\n      @mousedown.prevent=\"preventFocusOut\"\n    >\n      <div\n        class=\"cv-overflow-menu__before-content\"\n        ref=\"beforeContent\"\n        tabindex=\"0\"\n        style=\"position: absolute; height: 1px; width: 1px; left: -9999px;\"\n        @focus=\"focusBeforeContent\"\n      />\n      <ul class=\"bx--overflow-menu-options__content\">\n        <slot></slot>\n      </ul>\n      <div\n        class=\"cv-overflow-menu__after-content\"\n        ref=\"afterContent\"\n        tabindex=\"0\"\n        style=\"position: absolute; height: 1px; width: 1px; left: -9999px;\"\n        @focus=\"focusAfterContent\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport OverflowMenuVertical16 from '@carbon/icons-vue/es/overflow-menu--vertical/16';\nimport uidMixin from '../../mixins/uid-mixin';\n\nexport default {\n  name: 'CvOverflowMenu',\n  components: { OverflowMenuVertical16 },\n  mixins: [uidMixin],\n  props: {\n    label: String,\n    flipMenu: Boolean,\n    up: Boolean,\n    offset: {\n      type: Object,\n      validator(value) {\n        return value.hasOwnProperty('left') && value.hasOwnProperty('top');\n      },\n    },\n    tipPosition: {\n      type: String,\n      default: 'right',\n      validator: val => ['top', 'left', 'bottom', 'right'.includes(val)],\n    },\n    tipAlignment: { type: String, default: 'center', validator: val => ['start', 'center', 'end'].includes(val) },\n  },\n  watch: {\n    flipMenu(val) {\n      this.flipMenu = val;\n    },\n  },\n  data() {\n    return {\n      open: false,\n      left: -9999, // offscreen,\n      top: 0,\n    };\n  },\n  computed: {\n    offsetLeft() {\n      return this.offset ? this.offset.left : 0;\n    },\n    offsetTop() {\n      return this.offset ? this.offset.top : 0;\n    },\n    tipClasses() {\n      const tipPosition = this.tipPosition || 'right';\n      const tipAlignment = this.tipAlignment || 'center';\n      if (this.label) {\n        return `bx--tooltip__trigger bx--tooltip--a11y bx--tooltip--${tipPosition} bx--tooltip--align-${tipAlignment}`;\n      } else {\n        return '';\n      }\n    },\n  },\n  created() {\n    this.$on('cv:close', this.doClose);\n    this.$on('cv:click', this.menuItemclick);\n  },\n  methods: {\n    checkFocusOut(ev) {\n      if (this.open) {\n        if (\n          ev.relatedTarget === null ||\n          !(this.$refs.trigger === ev.relatedTarget || this.$refs.popup.contains(ev.relatedTarget))\n        ) {\n          this.open = false;\n          this.positionListen(false);\n\n          // DO NOT FOCUS if relatedTarget is not null, as focus is going somewhere\n          if (!ev.relatedTarget) {\n            this.$nextTick(() => {\n              this.doFocus();\n            });\n          }\n        }\n      }\n    },\n    menuItemclick() {\n      this.open = false;\n      this.positionListen(false);\n      this.$nextTick(() => {\n        this.doFocus();\n      });\n    },\n    doClose() {\n      this.open = false;\n      this.positionListen(false);\n    },\n    positionListen(on) {\n      if (on) {\n        window.addEventListener('scroll', this.positionMenu);\n        window.addEventListener('resize', this.positionMenu);\n      } else {\n        window.removeEventListener('scroll', this.positionMenu);\n        window.removeEventListener('resize', this.positionMenu);\n      }\n    },\n    async positionMenu() {\n      if (this.open) {\n        const menuPosition = this.$el.getBoundingClientRect();\n        return this.$nextTick(() => {\n          const pixelsScrolledX = window.scrollX || window.pageXOffset;\n          const pixelsScrolledY = window.scrollY || window.pageYOffset;\n          if (this.flipMenu) {\n            this.left =\n              menuPosition.left +\n              this.offsetLeft -\n              this.$refs.popup.offsetWidth +\n              this.$el.offsetWidth +\n              pixelsScrolledX;\n          } else {\n            this.left = menuPosition.left + this.offsetLeft + pixelsScrolledX;\n          }\n          if (this.up) {\n            this.top = menuPosition.top + this.offsetTop - this.$refs.popup.offsetHeight + pixelsScrolledY;\n          } else {\n            this.top = menuPosition.bottom + this.offsetTop + pixelsScrolledY;\n          }\n        });\n      }\n    },\n    doFocus() {\n      let focusOn;\n      if (this.open) {\n        // set focus somewhere sensible, first focusable item or leave on over flow\n        let focusOnList = this.$refs.popup.querySelectorAll(\n          '.bx--overflow-menu-options__btn, button, link, input, textarea, [contentEditable=\"true\"], [tabindex]'\n        );\n        for (let tryOn of focusOnList) {\n          if (\n            // don't focus on before after or something that can't be tabbed to\n            !(\n              tryOn.classList.contains('cv-overflow-menu__before-content') ||\n              tryOn.classList.contains('cv-overflow-menu__after-content') ||\n              tryOn.tabindex < 0\n            )\n          ) {\n            focusOn = tryOn;\n            break;\n          }\n        }\n        if (!focusOn) {\n          focusOn = this.$el;\n        }\n      } else {\n        focusOn = this.$el;\n      }\n      focusOn.focus();\n    },\n    async doToggle() {\n      this.open = !this.open;\n\n      // await positionMenu otherwise it can race doFocus.\n      // On initial open the menu is positioned 0,0 causing a jump\n      await this.positionMenu();\n      this.positionListen(this.open);\n      this.$nextTick(() => {\n        this.doFocus();\n      });\n    },\n    onOverflowMenuTab(ev) {\n      if (!ev.shiftKey) {\n        // move focus before content before tab press\n        this.$refs.beforeContent.focus();\n      }\n    },\n    focusBeforeContent(ev) {\n      if (this.$refs.popup.contains(ev.relatedTarget)) {\n        this.$refs.trigger.focus();\n        this.open = false;\n      }\n    },\n    focusAfterContent() {\n      this.$refs.trigger.focus();\n      this.open = false;\n    },\n    preventFocusOut() {\n      // This is here to prevent focus being lost if the user clicks on the contents of the interactive tool tip\n    },\n  },\n  mounted() {\n    // Check for los of focus\n    this.$el.addEventListener('focusout', this.checkFocusOut);\n\n    // move popup out to body to ensure it appears above other elements\n    this.popupEl = document.body.appendChild(this.$refs.popup);\n  },\n  beforeDestroy() {\n    this.positionListen(false);\n    if (this.popupEl) {\n      // move back to where it came from\n      this.$el.appendChild(this.popupEl);\n    }\n  },\n};\n</script>\n"]}]}