{"remainingRequest":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-dropdown/cv-dropdown.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-dropdown/cv-dropdown.vue","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB0aGVtZU1peGluIGZyb20gJy4uLy4uL21peGlucy90aGVtZS1taXhpbic7CmltcG9ydCB1aWRNaXhpbiBmcm9tICcuLi8uLi9taXhpbnMvdWlkLW1peGluJzsKaW1wb3J0IFdhcm5pbmdGaWxsZWQxNiBmcm9tICdAY2FyYm9uL2ljb25zLXZ1ZS9lcy93YXJuaW5nLS1maWxsZWQvMTYnOwppbXBvcnQgQ2hldnJvbkRvd25HbHlwaCBmcm9tICdAY2FyYm9uL2ljb25zLXZ1ZS9lcy9jaGV2cm9uLS1kb3duJzsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3ZEcm9wZG93bicsCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBtaXhpbnM6IFt0aGVtZU1peGluLCB1aWRNaXhpbl0sCiAgY29tcG9uZW50czogeyBXYXJuaW5nRmlsbGVkMTYsIENoZXZyb25Eb3duR2x5cGggfSwKICBwcm9wczogewogICAgZGlzYWJsZWQ6IEJvb2xlYW4sCiAgICBmb3JtSXRlbTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sCiAgICBpbmxpbmU6IEJvb2xlYW4sCiAgICBpbnZhbGlkTWVzc2FnZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IHVuZGVmaW5lZCB9LAogICAgaGVscGVyVGV4dDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IHVuZGVmaW5lZCB9LAogICAgbGFiZWw6IFN0cmluZywKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ0Nob29zZSBhbiBvcHRpb24nLAogICAgfSwKICAgIHVwOiBCb29sZWFuLAogICAgdmFsdWU6IFN0cmluZywgLy8gaW5pdGlhbCB2YWx1ZSBvZiB0aGUgZHJvcGRvd24sCiAgICBoaWRlU2VsZWN0ZWQ6IEJvb2xlYW4sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIGRhdGFWYWx1ZTogdGhpcy52YWx1ZSwKICAgICAgaXNIZWxwZXI6IGZhbHNlLAogICAgICBpc0ludmFsaWQ6IGZhbHNlLAogICAgICBzZWxlY3RlZENoaWxkOiBudWxsLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyBhZGQgdGhlc2Ugb24gY3JlYXRlZCBvdGhlcndpc2UgY3Y6bW91bnRlZCBpcyB0b28gbGF0ZS4KICAgIHRoaXMuJG9uKCdjdjptb3VudGVkJywgc3JjQ29tcG9uZW50ID0+IHRoaXMub25Ddk1vdW50KHNyY0NvbXBvbmVudCkpOwogICAgdGhpcy4kb24oJ2N2OmJlZm9yZURlc3Ryb3knLCBzcmNDb21wb25lbnQgPT4gdGhpcy5vbkN2QmVmb3JlRGVzdHJveShzcmNDb21wb25lbnQpKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGV2ID0+IHsKICAgICAgaWYgKGV2LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwgfHwgIXRoaXMuJGVsLmNvbnRhaW5zKGV2LnJlbGF0ZWRUYXJnZXQpKSB7CiAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gdGhpcy5pbnRlcm5hbFZhbHVlOyAvLyBmb3JjZXMgdXBkYXRlIG9mIHZhbHVlCiAgICB0aGlzLmNoZWNrU2xvdHMoKTsKICB9LAogIGJlZm9yZVVwZGF0ZSgpIHsKICAgIHRoaXMuY2hlY2tTbG90cygpOwogIH0sCiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICBldmVudDogJ2NoYW5nZScsCiAgfSwKICB3YXRjaDogewogICAgdmFsdWUodmFsKSB7CiAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IHZhbDsKICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgaW50ZXJuYWxDYXB0aW9uKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZENoaWxkKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRDaGlsZC5pbnRlcm5hbENvbnRlbnQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMucGxhY2Vob2xkZXI7CiAgICAgIH0KICAgIH0sCiAgICBpbnRlcm5hbFZhbHVlOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5kYXRhVmFsdWU7CiAgICAgIH0sCiAgICAgIHNldCh2YWwpIHsKICAgICAgICBjb25zdCBjaGlsZEl0ZW1zID0gdGhpcy5kcm9wZG93bkl0ZW1zKCk7CgogICAgICAgIGZvciAobGV0IGluZGV4IGluIGNoaWxkSXRlbXMpIHsKICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkSXRlbXNbaW5kZXhdOwogICAgICAgICAgbGV0IHNlbGVjdGVkID0gY2hpbGQudmFsdWUgPT09IHZhbDsKICAgICAgICAgIGNoaWxkLmludGVybmFsU2VsZWN0ZWQgPSBzZWxlY3RlZDsKCiAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHsKICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENoaWxkID0gY2hpbGQ7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5kYXRhVmFsdWUgIT09IHZhbCkgewogICAgICAgICAgLy8gb25seSByYWlzZSBldmVudCBvbiBjaGFuZ2UKICAgICAgICAgIHRoaXMuZGF0YVZhbHVlID0gdmFsOwogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5kYXRhVmFsdWUpOwogICAgICAgIH0KICAgICAgfSwKICAgIH0sCiAgICBjaGV2cm9uU3R5bGVPdmVyaWRlKCkgewogICAgICAvLyBUaGlzIGFsbG93cyB0aGUgc2FtZSBjaGV2cm9uIHRvIGJlIHVzZWQgaW4gZHJvcGRvd24gYW5kIHRhYnMKICAgICAgcmV0dXJuIHsKICAgICAgICBkaXNwbGF5OiAnZmxleCcsCiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLAogICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLAogICAgICAgIGhlaWdodDogJzE2cHgnLAogICAgICAgIHdpZHRoOiAnMTZweCcsCiAgICAgIH07CiAgICB9LAogICAgd3JhcHBlclN0eWxlT3ZlcnJpZGUoKSB7CiAgICAgIC8vIGVuc3VyZXMgY29ycmVjdCB3aWR0aCB3aGVuIHVzZWQgaW5zaWRlIHRhYnMgY29tcG9uZW50CiAgICAgIHJldHVybiB7IHdpZHRoOiAnMTAwJScgfTsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGVja1Nsb3RzKCkgewogICAgICAvLyBOT1RFOiB0aGlzLiRzbG90cyBpcyBub3QgcmVhY3RpdmUgc28gbmVlZHMgdG8gYmUgbWFuYWdlZCBvbiBiZWZvcmVVcGRhdGUKICAgICAgdGhpcy5pc0ludmFsaWQgPSAhISh0aGlzLiRzbG90c1snaW52YWxpZC1tZXNzYWdlJ10gfHwgKHRoaXMuaW52YWxpZE1lc3NhZ2UgJiYgdGhpcy5pbnZhbGlkTWVzc2FnZS5sZW5ndGgpKTsKICAgICAgdGhpcy5pc0hlbHBlciA9ICEhKHRoaXMuJHNsb3RzWydoZWxwZXItdGV4dCddIHx8ICh0aGlzLmhlbHBlclRleHQgJiYgdGhpcy5oZWxwZXJUZXh0Lmxlbmd0aCkpOwogICAgfSwKICAgIG9uQ3ZNb3VudChzcmNDb21wb25lbnQpIHsKICAgICAgaWYgKHNyY0NvbXBvbmVudC5pbnRlcm5hbFNlbGVjdGVkKSB7CiAgICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gc3JjQ29tcG9uZW50LnZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLmludGVybmFsVmFsdWUgPT09IHNyY0NvbXBvbmVudC52YWx1ZSkgewogICAgICAgICAgc3JjQ29tcG9uZW50LmludGVybmFsU2VsZWN0ZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy5pbnRlcm5hbFZhbHVlID0gc3JjQ29tcG9uZW50LnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uQ3ZCZWZvcmVEZXN0cm95KHNyY0NvbXBvbmVudCkgewogICAgICBpZiAoc3JjQ29tcG9uZW50LnZhbHVlID09PSB0aGlzLmludGVybmFsVmFsdWUpIHsKICAgICAgICB0aGlzLmRhdGFWYWx1ZSA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBkcm9wZG93bkl0ZW1zKCkgewogICAgICByZXR1cm4gdGhpcy4kY2hpbGRyZW4uZmlsdGVyKGl0ZW0gPT4gaXRlbS4kX0N2RHJvcGRvd25JdGVtKTsKICAgIH0sCiAgICBkb01vdmUodXApIHsKICAgICAgLy8gcmVxdWVyeSBjb3VsZCBoYXZlIGNoYW5nZWQKICAgICAgbGV0IGN1cnJlbnRGb2N1c0VsID0gdGhpcy4kZWwucXVlcnlTZWxlY3RvcignLmN2LWRyb3Bkb3duLWl0ZW0gOmZvY3VzJyk7CiAgICAgIGxldCBjdXJyZW50Rm9jdXNWYWx1ZTsKICAgICAgbGV0IGNoaWxkSXRlbXMgPSB0aGlzLmRyb3Bkb3duSXRlbXMoKTsKICAgICAgbGV0IGxhc3QgPSBjaGlsZEl0ZW1zLmxlbmd0aCAtIDE7CiAgICAgIGxldCBjdXJyZW50Rm9jdXNJbmRleCA9IHVwID8gMCA6IGxhc3Q7CiAgICAgIGxldCBuZXh0Rm9jdXNJbmRleDsKCiAgICAgIGlmIChjdXJyZW50Rm9jdXNFbCkgewogICAgICAgIGN1cnJlbnRGb2N1c1ZhbHVlID0gY3VycmVudEZvY3VzRWwucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTsKICAgICAgfQoKICAgICAgaWYgKGN1cnJlbnRGb2N1c1ZhbHVlICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjdXJyZW50Rm9jdXNJbmRleCA9IGNoaWxkSXRlbXMuZmluZEluZGV4KGNoaWxkID0+IGNoaWxkLnZhbHVlID09PSBjdXJyZW50Rm9jdXNWYWx1ZSk7CiAgICAgIH0KCiAgICAgIGlmICh1cCkgewogICAgICAgIG5leHRGb2N1c0luZGV4ID0gY3VycmVudEZvY3VzSW5kZXggPiAwID8gY3VycmVudEZvY3VzSW5kZXggLSAxIDogbGFzdDsKICAgICAgICBpZiAoY2hpbGRJdGVtc1tuZXh0Rm9jdXNJbmRleF0uaW50ZXJuYWxTZWxlY3RlZCkgewogICAgICAgICAgbmV4dEZvY3VzSW5kZXggPSBuZXh0Rm9jdXNJbmRleCA+IDAgPyBuZXh0Rm9jdXNJbmRleCAtIDEgOiBsYXN0OwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0Rm9jdXNJbmRleCA9IGN1cnJlbnRGb2N1c0luZGV4IDwgbGFzdCA/IGN1cnJlbnRGb2N1c0luZGV4ICsgMSA6IDA7CiAgICAgICAgaWYgKGNoaWxkSXRlbXNbbmV4dEZvY3VzSW5kZXhdLmludGVybmFsU2VsZWN0ZWQpIHsKICAgICAgICAgIG5leHRGb2N1c0luZGV4ID0gbmV4dEZvY3VzSW5kZXggPCBsYXN0ID8gbmV4dEZvY3VzSW5kZXggKyAxIDogMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNoaWxkSXRlbXNbbmV4dEZvY3VzSW5kZXhdLnNldEZvY3VzKCk7CiAgICB9LAogICAgb25Eb3duKCkgewogICAgICBpZiAoIXRoaXMub3BlbikgewogICAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kb01vdmUoZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgb25VcCgpIHsKICAgICAgaWYgKHRoaXMub3BlbikgewogICAgICAgIHRoaXMuZG9Nb3ZlKHRydWUpOwogICAgICB9CiAgICB9LAogICAgb25Fc2MoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICB0aGlzLiRlbC5mb2N1cygpOwogICAgfSwKICAgIG9uQ2xpY2soZXYpIHsKICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3BlbiA9ICF0aGlzLm9wZW47CiAgICAgICAgaWYgKCF0aGlzLm9wZW4pIHsKICAgICAgICAgIHRoaXMuJGVsLmZvY3VzKCk7CiAgICAgICAgfQoKICAgICAgICBsZXQgdGFyZ2V0ID0gZXYudGFyZ2V0OwogICAgICAgIHdoaWxlICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYngtLWRyb3Bkb3duLWxpbmsnKSAmJiB0aGlzLiRyZWZzLmRyb3BsaXN0LmNvbnRhaW5zKHRhcmdldCkpIHsKICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOyAvLyB0cnkgbmV4dCBvbmUgdXAKICAgICAgICB9CgogICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdieC0tZHJvcGRvd24tbGluaycpKSB7CiAgICAgICAgICBjb25zdCB0YXJnZXRJdGVtRWwgPSB0YXJnZXQucGFyZW50Tm9kZTsKICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdGFyZ2V0SXRlbUVsLmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpOwoKICAgICAgICAgIHRoaXMuaW50ZXJuYWxWYWx1ZSA9IG5ld1ZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["cv-dropdown.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"cv-dropdown.vue","sourceRoot":"node_modules/@carbon/vue/src/components/cv-dropdown","sourcesContent":["<!--\n  Carbon Style Dropdown\n\n  Attributes:\n    placeholder: Placeholder text displayed before any  selection is made.\n\n  Usage:\n    <cv-dropdown placeholder=\"Choose an option\">\n      <cv-dropdown-item value=\"10\">Option 1</cv-dropdown-item>\n      <cv-dropdown-item value=\"20\">Option 2</cv-dropdown-item>\n      <cv-dropdown-item value=\"30\">Option 3</cv-dropdown-item>\n      <cv-dropdown-item value=\"40\">Option 4</cv-dropdown-item>\n      <cv-dropdown-item value=\"50\">Option 5</cv-dropdown-item>\n    </cv-dropdown>\n\n-->\n\n<template>\n  <div :class=\"{ 'bx--form-item': formItem }\">\n    <div\n      class=\"bx--dropdown__wrapper\"\n      :class=\"{ 'bx--dropdown__wrapper--inline': inline, 'cv-dropdown': !formItem }\"\n      :style=\"wrapperStyleOverride\"\n    >\n      <span v-if=\"label\" :id=\"`${uid}-label`\" class=\"bx--label\" :class=\"{ 'bx--label--disabled': disabled }\">\n        {{ label }}\n      </span>\n\n      <div\n        v-if=\"!inline && isHelper\"\n        class=\"bx--form__helper-text\"\n        :class=\"{ 'bx--form__helper-text--disabled': disabled }\"\n        :aria-disabled=\"disabled\"\n      >\n        <slot name=\"helper-text\">{{ helperText }}</slot>\n      </div>\n\n      <div\n        data-dropdown\n        :data-value=\"internalValue\"\n        :data-invalid=\"isInvalid\"\n        class=\"bx--dropdown\"\n        :class=\"{\n          'bx--dropdown--light': theme === 'light',\n          'bx--dropdown--up': up,\n          'bx--dropdown--open': open,\n          'bx--dropdown--invalid': isInvalid,\n          'bx--dropdown--disabled': disabled,\n          'bx--dropdown--inline': inline,\n          'bx--dropdown--show-selected': !hideSelected,\n        }\"\n        v-bind=\"$attrs\"\n        @keydown.down.prevent=\"onDown\"\n        @keydown.up.prevent=\"onUp\"\n        @keydown.enter.prevent=\"onClick\"\n        @keydown.esc.prevent=\"onEsc\"\n        @click=\"onClick\"\n      >\n        <button\n          class=\"bx--dropdown-text\"\n          aria-haspopup=\"true\"\n          :aria-expanded=\"open\"\n          :aria-controls=\"`${uid}-menu`\"\n          :aria-labelledby=\"`${uid}-label ${uid}-value`\"\n          type=\"button\"\n        >\n          <WarningFilled16 v-if=\"isInvalid && inline\" class=\"bx--dropdown__invalid-icon\" />\n          <span\n            class=\"bx--dropdown-text__inner\"\n            :id=\"`${uid}-value`\"\n            data-test=\"internalCaption\"\n            v-html=\"internalCaption\"\n          />\n          <span class=\"bx--dropdown__arrow-container\">\n            <span class=\"bx--dropdown__arrow\" :style=\"chevronStyleOveride\">\n              <chevron-down-glyph />\n            </span>\n          </span>\n        </button>\n        <ul\n          class=\"bx--dropdown-list\"\n          :id=\"`${uid}-menu`\"\n          role=\"menu\"\n          :aria-hidden=\"!open\"\n          wh-menu-anchor=\"left\"\n          :aria-labelledby=\"`${uid}-label`\"\n          ref=\"droplist\"\n        >\n          <slot></slot>\n        </ul>\n      </div>\n      <div v-if=\"isInvalid && inline\" class=\"bx--form-requirement\">\n        <slot name=\"invalid-message\">{{ invalidMessage }}</slot>\n      </div>\n    </div>\n    <div v-if=\"isInvalid && !inline\" class=\"bx--form-requirement\">\n      <slot name=\"invalid-message\">{{ invalidMessage }}</slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport themeMixin from '../../mixins/theme-mixin';\nimport uidMixin from '../../mixins/uid-mixin';\nimport WarningFilled16 from '@carbon/icons-vue/es/warning--filled/16';\nimport ChevronDownGlyph from '@carbon/icons-vue/es/chevron--down';\n\nexport default {\n  name: 'CvDropdown',\n  inheritAttrs: false,\n  mixins: [themeMixin, uidMixin],\n  components: { WarningFilled16, ChevronDownGlyph },\n  props: {\n    disabled: Boolean,\n    formItem: { type: Boolean, default: true },\n    inline: Boolean,\n    invalidMessage: { type: String, default: undefined },\n    helperText: { type: String, default: undefined },\n    label: String,\n    placeholder: {\n      type: String,\n      default: 'Choose an option',\n    },\n    up: Boolean,\n    value: String, // initial value of the dropdown,\n    hideSelected: Boolean,\n  },\n  data() {\n    return {\n      open: false,\n      dataValue: this.value,\n      isHelper: false,\n      isInvalid: false,\n      selectedChild: null,\n    };\n  },\n  created() {\n    // add these on created otherwise cv:mounted is too late.\n    this.$on('cv:mounted', srcComponent => this.onCvMount(srcComponent));\n    this.$on('cv:beforeDestroy', srcComponent => this.onCvBeforeDestroy(srcComponent));\n  },\n  mounted() {\n    this.$el.addEventListener('focusout', ev => {\n      if (ev.relatedTarget === null || !this.$el.contains(ev.relatedTarget)) {\n        this.open = false;\n      }\n    });\n    this.internalValue = this.internalValue; // forces update of value\n    this.checkSlots();\n  },\n  beforeUpdate() {\n    this.checkSlots();\n  },\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n  watch: {\n    value(val) {\n      this.internalValue = val;\n    },\n  },\n  computed: {\n    internalCaption() {\n      if (this.selectedChild) {\n        return this.selectedChild.internalContent;\n      } else {\n        return this.placeholder;\n      }\n    },\n    internalValue: {\n      get() {\n        return this.dataValue;\n      },\n      set(val) {\n        const childItems = this.dropdownItems();\n\n        for (let index in childItems) {\n          let child = childItems[index];\n          let selected = child.value === val;\n          child.internalSelected = selected;\n\n          if (selected) {\n            this.selectedChild = child;\n          }\n        }\n\n        if (this.dataValue !== val) {\n          // only raise event on change\n          this.dataValue = val;\n          this.$emit('change', this.dataValue);\n        }\n      },\n    },\n    chevronStyleOveride() {\n      // This allows the same chevron to be used in dropdown and tabs\n      return {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '16px',\n        width: '16px',\n      };\n    },\n    wrapperStyleOverride() {\n      // ensures correct width when used inside tabs component\n      return { width: '100%' };\n    },\n  },\n  methods: {\n    checkSlots() {\n      // NOTE: this.$slots is not reactive so needs to be managed on beforeUpdate\n      this.isInvalid = !!(this.$slots['invalid-message'] || (this.invalidMessage && this.invalidMessage.length));\n      this.isHelper = !!(this.$slots['helper-text'] || (this.helperText && this.helperText.length));\n    },\n    onCvMount(srcComponent) {\n      if (srcComponent.internalSelected) {\n        this.internalValue = srcComponent.value;\n      } else {\n        if (this.internalValue === srcComponent.value) {\n          srcComponent.internalSelected = true;\n          this.internalValue = srcComponent.value;\n        }\n      }\n    },\n    onCvBeforeDestroy(srcComponent) {\n      if (srcComponent.value === this.internalValue) {\n        this.dataValue = null;\n      }\n    },\n    dropdownItems() {\n      return this.$children.filter(item => item.$_CvDropdownItem);\n    },\n    doMove(up) {\n      // requery could have changed\n      let currentFocusEl = this.$el.querySelector('.cv-dropdown-item :focus');\n      let currentFocusValue;\n      let childItems = this.dropdownItems();\n      let last = childItems.length - 1;\n      let currentFocusIndex = up ? 0 : last;\n      let nextFocusIndex;\n\n      if (currentFocusEl) {\n        currentFocusValue = currentFocusEl.parentNode.getAttribute('data-value');\n      }\n\n      if (currentFocusValue !== undefined) {\n        currentFocusIndex = childItems.findIndex(child => child.value === currentFocusValue);\n      }\n\n      if (up) {\n        nextFocusIndex = currentFocusIndex > 0 ? currentFocusIndex - 1 : last;\n        if (childItems[nextFocusIndex].internalSelected) {\n          nextFocusIndex = nextFocusIndex > 0 ? nextFocusIndex - 1 : last;\n        }\n      } else {\n        nextFocusIndex = currentFocusIndex < last ? currentFocusIndex + 1 : 0;\n        if (childItems[nextFocusIndex].internalSelected) {\n          nextFocusIndex = nextFocusIndex < last ? nextFocusIndex + 1 : 0;\n        }\n      }\n\n      childItems[nextFocusIndex].setFocus();\n    },\n    onDown() {\n      if (!this.open) {\n        this.open = true;\n      } else {\n        this.doMove(false);\n      }\n    },\n    onUp() {\n      if (this.open) {\n        this.doMove(true);\n      }\n    },\n    onEsc() {\n      this.open = false;\n      this.$el.focus();\n    },\n    onClick(ev) {\n      if (this.disabled) {\n        ev.preventDefault();\n      } else {\n        this.open = !this.open;\n        if (!this.open) {\n          this.$el.focus();\n        }\n\n        let target = ev.target;\n        while (!target.classList.contains('bx--dropdown-link') && this.$refs.droplist.contains(target)) {\n          target = target.parentNode; // try next one up\n        }\n\n        if (target.classList.contains('bx--dropdown-link')) {\n          const targetItemEl = target.parentNode;\n          const newValue = targetItemEl.getAttribute('data-value');\n\n          this.internalValue = newValue;\n        }\n      }\n    },\n  },\n};\n</script>\n"]}]}