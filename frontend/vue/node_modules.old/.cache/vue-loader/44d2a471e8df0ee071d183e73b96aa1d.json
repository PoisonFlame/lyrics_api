{"remainingRequest":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-ui-shell/cv-header.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-ui-shell/cv-header.vue","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3ZIZWFkZXInLAogIGNyZWF0ZWQoKSB7CiAgICAvLyBhZGQgdGhlc2Ugb24gY3JlYXRlZCBvdGhlcndpc2UgY3Y6bW91bnRlZCBpcyB0b28gbGF0ZS4KICAgIHRoaXMuJG9uKCdjdjpwYW5lbC1jb250cm9sLW1vdW50ZWQnLCB0aGlzLm9uQ3ZQYW5lbENvbnRyb2xNb3VudGVkKTsKICAgIHRoaXMuJG9uKCdjdjpwYW5lbC1jb250cm9sLWJlZm9yZURlc3Ryb3knLCB0aGlzLm9uQ3ZQYW5lbENvbnRyb2xCZWZvcmVEZXN0cm95KTsKICAgIHRoaXMuJG9uKCdjdjpwYW5lbC1jb250cm9sLXRvZ2dsZScsIHRoaXMub25DdlBhbmVsQ29udHJvbFRvZ2dsZSk7CiAgICB0aGlzLiRvbignY3Y6cGFuZWwtY29udHJvbC1mb2N1c291dCcsIHRoaXMub25DdlBhbmVsQ29udHJvbEZvY3Vzb3V0KTsKICAgIHRoaXMuJG9uKCdjdjpwYW5lbC1tb3VudGVkJywgdGhpcy5vbkN2UGFuZWxNb3VudGVkKTsKICAgIHRoaXMuJG9uKCdjdjpwYW5lbC1iZWZvcmVEZXN0cm95JywgdGhpcy5vbkN2UGFuZWxCZWZvcmVEZXN0cm95KTsKICAgIHRoaXMuJG9uKCdjdjpwYW5lbC1mb2N1c291dCcsIHRoaXMub25DdlBhbmVsRm9jdXNvdXQpOwogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBhbmVsQ29udHJvbGxlcnM6IFtdLAogICAgICBwYW5lbHM6IFtdLAogICAgICBoYXNHbG9iYWxIZWFkZXI6IGZhbHNlLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBOT1RFOiB0aGlzLiRzbG90cyBpcyBub3QgcmVhY3RpdmUgc28gbmVlZHMgdG8gYmUgbWFuYWdlZCBvbiBiZWZvcmVVcGRhdGUKICAgIHRoaXMuaGFzR2xvYmFsSGVhZGVyID0gISF0aGlzLiRzbG90c1snaGVhZGVyLWdsb2JhbCddOwogIH0sCiAgYmVmb3JlVXBkYXRlKCkgewogICAgdGhpcy5oYXNHbG9iYWxIZWFkZXIgPSAhIXRoaXMuJHNsb3RzWydoZWFkZXItZ2xvYmFsJ107CiAgfSwKICBjb21wdXRlZDogewogICAgaXNDdkhlYWRlcigpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgaGFzUmFpbChfY3RybCwgX3BhbmVsKSB7CiAgICAgIGxldCBwYW5lbCA9IF9wYW5lbDsKICAgICAgbGV0IGN0cmwgPSBfY3RybDsKICAgICAgaWYgKGN0cmwpIHsKICAgICAgICBwYW5lbCA9IHRoaXMucGFuZWxzLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBjdHJsLmFyaWFDb250cm9scyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHBhbmVsKSB7CiAgICAgICAgICBjdHJsID0gdGhpcy5wYW5lbENvbnRyb2xsZXJzLmZpbmQoaXRlbSA9PiBpdGVtLmFyaWFDb250cm9scyA9PT0gcGFuZWwuaWQpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoY3RybCkgewogICAgICAgIGN0cmwuaGFzUmFpbCA9ICEhKHBhbmVsICYmIGN0cmwpICYmIHBhbmVsLnJhaWw7CiAgICAgIH0KICAgIH0sCiAgICBvbkN2UGFuZWxDb250cm9sTW91bnRlZChzcmNDb21wb25lbnQpIHsKICAgICAgdGhpcy5wYW5lbENvbnRyb2xsZXJzLnB1c2goc3JjQ29tcG9uZW50KTsKICAgICAgdGhpcy5oYXNSYWlsKHNyY0NvbXBvbmVudCk7CiAgICB9LAogICAgb25DdlBhbmVsQ29udHJvbEJlZm9yZURlc3Ryb3koc3JjQ29tcG9uZW50KSB7CiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wYW5lbENvbnRyb2xsZXJzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHNyY0NvbXBvbmVudC5pZCk7CiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgdGhpcy5wYW5lbENvbnRyb2xsZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkN2UGFuZWxDb250cm9sVG9nZ2xlKHNyY0NvbXBvbmVudCwgZm9yY2UpIHsKICAgICAgY29uc3QgZm91bmRJbmRleCA9IHRoaXMucGFuZWxzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHNyY0NvbXBvbmVudC5hcmlhQ29udHJvbHMpOwogICAgICBpZiAoZm91bmRJbmRleCA+IC0xKSB7CiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBmb3JjZSAhPT0gdW5kZWZpbmVkID8gZm9yY2UgOiAhc3JjQ29tcG9uZW50LnBhbmVsRXhwYW5kZWQ7CgogICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoaXMucGFuZWxzKSB7CiAgICAgICAgICB0aGlzLnBhbmVsc1tpbmRleF0ucGFuZWxFeHBhbmRlZCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICBmb3IgKGxldCBpbmRleCBpbiB0aGlzLnBhbmVsQ29udHJvbGxlcnMpIHsKICAgICAgICAgIHRoaXMucGFuZWxDb250cm9sbGVyc1tpbmRleF0ucGFuZWxFeHBhbmRlZCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgc3JjQ29tcG9uZW50LnBhbmVsRXhwYW5kZWQgPSBuZXdWYWx1ZTsKICAgICAgICB0aGlzLnBhbmVsc1tmb3VuZEluZGV4XS5wYW5lbEV4cGFuZGVkID0gbmV3VmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBvbkN2UGFuZWxDb250cm9sRm9jdXNvdXQoc3JjQ29tcG9uZW50LCBzcmNFdmVudCkgewogICAgICBjb25zdCBmb3VuZCA9IHRoaXMucGFuZWxzLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzcmNDb21wb25lbnQuYXJpYUNvbnRyb2xzKTsKCiAgICAgIGlmIChmb3VuZCAmJiAhZm91bmQucmFpbCAmJiBmb3VuZC4kZWwgIT09IHNyY0V2ZW50LnJlbGF0ZWRUYXJnZXQgJiYgIWZvdW5kLiRlbC5jb250YWlucyhzcmNFdmVudC5yZWxhdGVkVGFyZ2V0KSkgewogICAgICAgIC8vIGNsb3NlIHdoZW4gbm90IGEgcmFpbAogICAgICAgIHRoaXMub25DdlBhbmVsQ29udHJvbFRvZ2dsZShzcmNDb21wb25lbnQsIGZhbHNlKTsKICAgICAgfQogICAgfSwKICAgIG9uQ3ZQYW5lbE1vdW50ZWQoc3JjQ29tcG9uZW50KSB7CiAgICAgIHRoaXMucGFuZWxzLnB1c2goc3JjQ29tcG9uZW50KTsKICAgICAgc3JjQ29tcG9uZW50LmhlYWRlckVtYmVkZGVkID0gdHJ1ZTsKICAgICAgdGhpcy5oYXNSYWlsKHVuZGVmaW5lZCwgc3JjQ29tcG9uZW50KTsKICAgIH0sCiAgICBvbkN2UGFuZWxCZWZvcmVEZXN0cm95KHNyY0NvbXBvbmVudCkgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFuZWxzLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT09IHNyY0NvbXBvbmVudC5pZCk7CiAgICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgICAgdGhpcy5wYW5lbHMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIG9uQ3ZQYW5lbEZvY3Vzb3V0KHNyY0NvbXBvbmVudCwgc3JjRXZlbnQpIHsKICAgICAgY29uc3QgZm91bmQgPSB0aGlzLnBhbmVsQ29udHJvbGxlcnMuZmluZChpdGVtID0+IGl0ZW0uYXJpYUNvbnRyb2xzID09PSBzcmNDb21wb25lbnQuaWQpOwogICAgICBpZiAoCiAgICAgICAgc3JjQ29tcG9uZW50LiRlbCAhPT0gc3JjRXZlbnQucmVsYXRlZFRhcmdldCAmJgogICAgICAgICFzcmNDb21wb25lbnQuJGVsLmNvbnRhaW5zKHNyY0V2ZW50LnJlbGF0ZWRUYXJnZXQpICYmCiAgICAgICAgZm91bmQgJiYKICAgICAgICBmb3VuZC4kZWwgIT09IHNyY0V2ZW50LnJlbGF0ZWRUYXJnZXQKICAgICAgKSB7CiAgICAgICAgdGhpcy5vbkN2UGFuZWxDb250cm9sVG9nZ2xlKGZvdW5kLCBmYWxzZSk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["cv-header.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cv-header.vue","sourceRoot":"node_modules/@carbon/vue/src/components/cv-ui-shell","sourcesContent":["<template>\n  <header class=\"cv-header bx--header\" data-header>\n    <slot />\n    <div v-if=\"hasGlobalHeader\" class=\"bx--header__global\">\n      <slot name=\"header-global\" />\n    </div>\n    <slot name=\"left-panels\" />\n    <slot name=\"right-panels\" />\n  </header>\n</template>\n\n<script>\nexport default {\n  name: 'CvHeader',\n  created() {\n    // add these on created otherwise cv:mounted is too late.\n    this.$on('cv:panel-control-mounted', this.onCvPanelControlMounted);\n    this.$on('cv:panel-control-beforeDestroy', this.onCvPanelControlBeforeDestroy);\n    this.$on('cv:panel-control-toggle', this.onCvPanelControlToggle);\n    this.$on('cv:panel-control-focusout', this.onCvPanelControlFocusout);\n    this.$on('cv:panel-mounted', this.onCvPanelMounted);\n    this.$on('cv:panel-beforeDestroy', this.onCvPanelBeforeDestroy);\n    this.$on('cv:panel-focusout', this.onCvPanelFocusout);\n  },\n  data() {\n    return {\n      panelControllers: [],\n      panels: [],\n      hasGlobalHeader: false,\n    };\n  },\n  mounted() {\n    // NOTE: this.$slots is not reactive so needs to be managed on beforeUpdate\n    this.hasGlobalHeader = !!this.$slots['header-global'];\n  },\n  beforeUpdate() {\n    this.hasGlobalHeader = !!this.$slots['header-global'];\n  },\n  computed: {\n    isCvHeader() {\n      return true;\n    },\n  },\n  methods: {\n    hasRail(_ctrl, _panel) {\n      let panel = _panel;\n      let ctrl = _ctrl;\n      if (ctrl) {\n        panel = this.panels.find(item => item.id === ctrl.ariaControls);\n      } else {\n        if (panel) {\n          ctrl = this.panelControllers.find(item => item.ariaControls === panel.id);\n        }\n      }\n      if (ctrl) {\n        ctrl.hasRail = !!(panel && ctrl) && panel.rail;\n      }\n    },\n    onCvPanelControlMounted(srcComponent) {\n      this.panelControllers.push(srcComponent);\n      this.hasRail(srcComponent);\n    },\n    onCvPanelControlBeforeDestroy(srcComponent) {\n      const index = this.panelControllers.findIndex(item => item.id === srcComponent.id);\n      if (index > -1) {\n        this.panelControllers.splice(index, 1);\n      }\n    },\n    onCvPanelControlToggle(srcComponent, force) {\n      const foundIndex = this.panels.findIndex(item => item.id === srcComponent.ariaControls);\n      if (foundIndex > -1) {\n        const newValue = force !== undefined ? force : !srcComponent.panelExpanded;\n\n        for (let index in this.panels) {\n          this.panels[index].panelExpanded = false;\n        }\n        for (let index in this.panelControllers) {\n          this.panelControllers[index].panelExpanded = false;\n        }\n\n        srcComponent.panelExpanded = newValue;\n        this.panels[foundIndex].panelExpanded = newValue;\n      }\n    },\n    onCvPanelControlFocusout(srcComponent, srcEvent) {\n      const found = this.panels.find(item => item.id === srcComponent.ariaControls);\n\n      if (found && !found.rail && found.$el !== srcEvent.relatedTarget && !found.$el.contains(srcEvent.relatedTarget)) {\n        // close when not a rail\n        this.onCvPanelControlToggle(srcComponent, false);\n      }\n    },\n    onCvPanelMounted(srcComponent) {\n      this.panels.push(srcComponent);\n      srcComponent.headerEmbedded = true;\n      this.hasRail(undefined, srcComponent);\n    },\n    onCvPanelBeforeDestroy(srcComponent) {\n      const index = this.panels.findIndex(item => item.id === srcComponent.id);\n      if (index > -1) {\n        this.panels.splice(index, 1);\n      }\n    },\n    onCvPanelFocusout(srcComponent, srcEvent) {\n      const found = this.panelControllers.find(item => item.ariaControls === srcComponent.id);\n      if (\n        srcComponent.$el !== srcEvent.relatedTarget &&\n        !srcComponent.$el.contains(srcEvent.relatedTarget) &&\n        found &&\n        found.$el !== srcEvent.relatedTarget\n      ) {\n        this.onCvPanelControlToggle(found, false);\n      }\n    },\n  },\n};\n</script>\n"]}]}