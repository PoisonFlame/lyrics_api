{"remainingRequest":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-content-switcher/cv-content-switcher.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/robby/docker/lyrics_api/app/node_modules/@carbon/vue/src/components/cv-content-switcher/cv-content-switcher.vue","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/robby/docker/lyrics_api/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzdG9yZSBmcm9tICcuL2N2LWNvbnRlbnQtc3dpdGNoZXItc3RvcmUnOwoKY29uc3QgdG9nZ2xlQ29udGVudCA9IChzZWxlY3Rvciwgb24pID0+IHsKICAvLyBoaWRlIGNvbnRlbnQKICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7CiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGNvbnRlbnQpIHsKICAgIC8vIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9IG9uOwogICAgaWYgKCFvbikgewogICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ2hpZGRlbicpOwogICAgfSBlbHNlIHsKICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpOwogICAgfQogICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgYCR7IW9ufWApOwogIH0KfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3ZDb250ZW50U3dpdGNoZXInLAogIGNyZWF0ZWQoKSB7CiAgICAvLyBhZGQgdGhlc2Ugb24gY3JlYXRlZCBvdGhlcndpc2UgY3Y6bW91bnRlZCBpcyB0b28gbGF0ZS4KICAgIHRoaXMuJG9uKCdjdjpvcGVuJywgc3JjQ29tcG9uZW50ID0+IHRoaXMub25Ddk9wZW4oc3JjQ29tcG9uZW50KSk7CiAgICB0aGlzLiRvbignY3Y6bW91bnRlZCcsIHNyY0NvbXBvbmVudCA9PiB0aGlzLm9uQ3ZNb3VudChzcmNDb21wb25lbnQpKTsKICAgIHRoaXMuJG9uKCdjdjpiZWZvcmVEZXN0cm95Jywgc3JjQ29tcG9uZW50ID0+IHRoaXMub25DdkJlZm9yZURlc3Ryb3koc3JjQ29tcG9uZW50KSk7CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcmU6IHN0b3JlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN3aXRjaGVyQnV0dG9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNoaWxkcmVuLmZpbHRlcihpdGVtID0+IGl0ZW0uJF9DdkNvbnRlbnRTd2l0Y2hlckJ1dHRvbik7CiAgICB9LAogICAgb25Ddk1vdW50KHNyY0NvbXBvbmVudCkgewogICAgICB0aGlzLnByb2Nlc3NTdGF0ZShzcmNDb21wb25lbnQsIHNyY0NvbXBvbmVudC5pc1NlbGVjdGVkKTsKICAgIH0sCiAgICBvbkN2QmVmb3JlRGVzdHJveShzcmNDb21wb25lbnQpIHsKICAgICAgbGV0IG5leHRPcGVuOwogICAgICBpZiAoc3JjQ29tcG9uZW50LmlzU2VsZWN0ZWQpIHsKICAgICAgICBjb25zdCBzd2l0Y2hlckJ1dHRvbnMgPSB0aGlzLnN3aXRjaGVyQnV0dG9ucygpOwoKICAgICAgICBmb3IgKGxldCBpbmRleCBpbiBzd2l0Y2hlckJ1dHRvbnMpIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgc3dpdGNoZXJCdXR0b25zW2luZGV4XS4kX0N2Q29udGVudFN3aXRjaGVyQnV0dG9uICYmCiAgICAgICAgICAgIHN3aXRjaGVyQnV0dG9uc1tpbmRleF0uYnV0dG9uSWQgIT09IHNyY0NvbXBvbmVudC5idXR0b25JZAogICAgICAgICAgKSB7CiAgICAgICAgICAgIG5leHRPcGVuID0gc3dpdGNoZXJCdXR0b25zW2luZGV4XTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIHVuaGlkZSBjb250ZW50IGZvciBkZXN0cm95ZWQgc3JjQ29tcG9uZW50CiAgICAgIGlmIChzcmNDb21wb25lbnQub3duZXJJZCkgewogICAgICAgIHRoaXMuc3RvcmUucmVtb3ZlKHNyY0NvbXBvbmVudC5vd25lcklkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0b2dnbGVDb250ZW50KHNyY0NvbXBvbmVudC5jb250ZW50U2VsZWN0b3IsIHRydWUpOwogICAgICB9CiAgICAgIGlmIChuZXh0T3BlbikgewogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgbmV4dE9wZW4ub3BlbigpOwogICAgICAgIH0sIDEpOwogICAgICB9CiAgICB9LAogICAgcHJvY2Vzc1N0YXRlKHNyY0NvbXBvbmVudCwgc3RhdGUpIHsKICAgICAgY29uc3QgaW5uZXJQcm9jZXNzU3RhdGUgPSAoY29tcG9uZW50LCBuZXdTdGF0ZSkgPT4gewogICAgICAgIGlmIChjb21wb25lbnQub3duZXJJZCkgewogICAgICAgICAgdGhpcy5zdG9yZS5zZXRTdGF0ZShjb21wb25lbnQub3duZXJJZCwgbmV3U3RhdGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0b2dnbGVDb250ZW50KGNvbXBvbmVudC5jb250ZW50U2VsZWN0b3IsIG5ld1N0YXRlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGlubmVyUHJvY2Vzc1N0YXRlKHNyY0NvbXBvbmVudCwgc3RhdGUpOwoKICAgICAgaWYgKHN0YXRlKSB7CiAgICAgICAgLy8gaWYgb3BlbmluZyBvbmUgYnV0dG9uIGNsb3NlIG90aGVycwogICAgICAgIGNvbnN0IHN3aXRjaGVyQnV0dG9ucyA9IHRoaXMuc3dpdGNoZXJCdXR0b25zKCk7CiAgICAgICAgZm9yIChsZXQgaW5kZXggaW4gc3dpdGNoZXJCdXR0b25zKSB7CiAgICAgICAgICBpZiAoc3dpdGNoZXJCdXR0b25zW2luZGV4XS5idXR0b25JZCAhPT0gc3JjQ29tcG9uZW50LmJ1dHRvbklkKSB7CiAgICAgICAgICAgIHN3aXRjaGVyQnV0dG9uc1tpbmRleF0uY2xvc2UoKTsKICAgICAgICAgICAgaW5uZXJQcm9jZXNzU3RhdGUoc3dpdGNoZXJCdXR0b25zW2luZGV4XSwgZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uQ3ZPcGVuKHNyY0NvbXBvbmVudCkgewogICAgICB0aGlzLiRlbWl0KCdzZWxlY3RlZCcsIHNyY0NvbXBvbmVudC5vd25lcklkID8gc3JjQ29tcG9uZW50Lm93bmVySWQgOiBzcmNDb21wb25lbnQuY29udGVudFNlbGVjdG9yKTsKICAgICAgdGhpcy5wcm9jZXNzU3RhdGUoc3JjQ29tcG9uZW50LCB0cnVlKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["cv-content-switcher.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"cv-content-switcher.vue","sourceRoot":"node_modules/@carbon/vue/src/components/cv-content-switcher","sourcesContent":["<template>\n  <div data-content-switcher class=\"cv-content-switcher bx--content-switcher\" role=\"tablist\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport store from './cv-content-switcher-store';\n\nconst toggleContent = (selector, on) => {\n  // hide content\n  const content = document.querySelectorAll(selector);\n  for (const element of content) {\n    // element.style.visibility = on;\n    if (!on) {\n      element.setAttribute('hidden', 'hidden');\n    } else {\n      element.removeAttribute('hidden');\n    }\n    element.setAttribute('aria-hidden', `${!on}`);\n  }\n};\n\nexport default {\n  name: 'CvContentSwitcher',\n  created() {\n    // add these on created otherwise cv:mounted is too late.\n    this.$on('cv:open', srcComponent => this.onCvOpen(srcComponent));\n    this.$on('cv:mounted', srcComponent => this.onCvMount(srcComponent));\n    this.$on('cv:beforeDestroy', srcComponent => this.onCvBeforeDestroy(srcComponent));\n  },\n  data() {\n    return {\n      store: store,\n    };\n  },\n  methods: {\n    switcherButtons() {\n      return this.$children.filter(item => item.$_CvContentSwitcherButton);\n    },\n    onCvMount(srcComponent) {\n      this.processState(srcComponent, srcComponent.isSelected);\n    },\n    onCvBeforeDestroy(srcComponent) {\n      let nextOpen;\n      if (srcComponent.isSelected) {\n        const switcherButtons = this.switcherButtons();\n\n        for (let index in switcherButtons) {\n          if (\n            switcherButtons[index].$_CvContentSwitcherButton &&\n            switcherButtons[index].buttonId !== srcComponent.buttonId\n          ) {\n            nextOpen = switcherButtons[index];\n            break;\n          }\n        }\n      }\n      // unhide content for destroyed srcComponent\n      if (srcComponent.ownerId) {\n        this.store.remove(srcComponent.ownerId);\n      } else {\n        toggleContent(srcComponent.contentSelector, true);\n      }\n      if (nextOpen) {\n        setTimeout(() => {\n          nextOpen.open();\n        }, 1);\n      }\n    },\n    processState(srcComponent, state) {\n      const innerProcessState = (component, newState) => {\n        if (component.ownerId) {\n          this.store.setState(component.ownerId, newState);\n        } else {\n          toggleContent(component.contentSelector, newState);\n        }\n      };\n      innerProcessState(srcComponent, state);\n\n      if (state) {\n        // if opening one button close others\n        const switcherButtons = this.switcherButtons();\n        for (let index in switcherButtons) {\n          if (switcherButtons[index].buttonId !== srcComponent.buttonId) {\n            switcherButtons[index].close();\n            innerProcessState(switcherButtons[index], false);\n          }\n        }\n      }\n    },\n    onCvOpen(srcComponent) {\n      this.$emit('selected', srcComponent.ownerId ? srcComponent.ownerId : srcComponent.contentSelector);\n      this.processState(srcComponent, true);\n    },\n  },\n};\n</script>\n"]}]}